import{k as p,bG as N,aW as $,o as c,c as y,p as e,w as a,B as r,y as V,q as t,b9 as A,aY as h,ba as C,b4 as D,b5 as m,G as F,F as L,a as R,C as f,b0 as j,j as W,bm as q,b as G}from"./index.06ce4c3e.js";import{u as P}from"./validators.118248dd.js";import{c as x,V as H,a as J,b as _}from"./VTabs.14587c89.js";import{V as k}from"./VDivider.6886f8b3.js";import{V as O}from"./VForm.d9e15773.js";import{c as w}from"./VTextField.ce54915a.js";import{V as U}from"./VSelect.28e9d127.js";import{V as Y,a as z}from"./VTextarea.ff2e4996.js";import{V as K}from"./VChip.a4563941.js";import"./index.6f29b349.js";import"./VList.db187d07.js";import"./VMenu.c95eb43d.js";import"./VCheckboxBtn.04eae92e.js";const me={__name:"[id]",setup(M){const I=W(),b=q(),d=p("base-info"),g=N(),u=p({enabled:!1,type:"success",message:"Hello!"}),S=["New"],s=p({name:"",description:"",state:"draft",category:"clothes",user:1,photos:["https://thumbs.dreamstime.com/b/grayscale-random-squares-checkered-pattern-mosaic-abstract-geometric-design-element-cubic-cubism-illustration-214781178.jpg"]});$(()=>{u.value={enabled:!0,message:"Loading item \u{1F9E0}",type:"warning"},g.fetchItem({id:b.params.id}).then(n=>{s.value=n.data,u.value={enabled:!0,message:"Item loaded \u{1F389}",type:"success"}}).catch(n=>{u.value={enabled:!0,message:`Error loading item: ${JSON.stringify(response.data)} \u{1F389}`,type:"success"},console.log(n)})});const T=[{name:"Clothes",value:"clothes"},{name:"Accessory",value:"accessory"}],B=[{name:"Exchnaged",value:"exchanged"},{name:"Exposed",value:"exposed"},{name:"Draft",value:"draft"}],E=async()=>{u.value={enabled:!0,message:"Saving item \u{1F9E0}",type:"warning"},g.putItem({id:b.params.id,...s.value}).then(n=>{console.log(n),u.value={enabled:!0,message:"Item saved \u{1F389}",type:"success"},setTimeout(()=>{I.push({name:"items"})},1e3)}).catch(n=>{u.value={enabled:!0,message:`Error occured: ${n}`,type:"error"},console.log(n)})};return(n,o)=>(c(),y("div",null,[e(A,{modelValue:t(u).enabled,"onUpdate:modelValue":o[0]||(o[0]=l=>t(u).enabled=l),location:"top end",variant:"flat",color:t(u).type},{default:a(()=>[r(V(t(u).message),1)]),_:1},8,["modelValue","color"]),e(H,{modelValue:t(d),"onUpdate:modelValue":o[1]||(o[1]=l=>h(d)?d.value=l:null)},{default:a(()=>[e(x,{value:"base-info"},{default:a(()=>[r(" Base Info ")]),_:1}),e(x,{value:"photos"},{default:a(()=>[r(" Photos ")]),_:1})]),_:1},8,["modelValue"]),e(k),e(j,{flat:""},{default:a(()=>[e(C,null,{default:a(()=>[e(J,{modelValue:t(d),"onUpdate:modelValue":o[8]||(o[8]=l=>h(d)?d.value=l:null)},{default:a(()=>[e(_,{value:"base-info"},{default:a(()=>[e(O,{class:"mt-2"},{default:a(()=>[e(D,null,{default:a(()=>[e(m,{md:"6",cols:"12"},{default:a(()=>[e(w,{modelValue:t(s).name,"onUpdate:modelValue":o[2]||(o[2]=l=>t(s).name=l),label:"Name"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(U,{modelValue:t(s).category,"onUpdate:modelValue":o[3]||(o[3]=l=>t(s).category=l),items:T,"item-value":"value","item-title":"name",label:"Category"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(U,{modelValue:t(s).state,"onUpdate:modelValue":o[4]||(o[4]=l=>t(s).state=l),items:B,"item-value":"value","item-title":"name",label:"State"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(Y,{modelValue:t(s).tags,"onUpdate:modelValue":o[5]||(o[5]=l=>t(s).tags=l),items:S,label:"Tags",multiple:""},{selection:a(({item:l})=>[e(K,{class:"mt-1"},{default:a(()=>[e(F,{start:"",color:"primary"},{default:a(()=>[r(V(String(l.title).charAt(0).toUpperCase()),1)]),_:2},1024),r(" "+V(l.title),1)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(z,{modelValue:t(s).description,"onUpdate:modelValue":o[6]||(o[6]=l=>t(s).description=l),label:"Description",rows:"3","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{value:"photos"},{default:a(()=>[(c(!0),y(L,null,R(t(s).photos,(l,i)=>(c(),G(m,{key:i,md:"6",cols:"12"},{default:a(()=>[e(w,{modelValue:t(s).photos[i],"onUpdate:modelValue":v=>t(s).photos[i]=v,label:`Photo ${i+1}`,type:"text","append-inner-icon":"tabler-trash",rules:[t(P)],"onClick:appendInner":v=>t(s).photos.splice(i,1)},null,8,["modelValue","onUpdate:modelValue","label","rules","onClick:appendInner"])]),_:2},1024))),128)),e(f,{class:"justify-end",variant:"outlined","prepend-icon":"tabler-plus",onClick:o[7]||(o[7]=l=>t(s).photos.push(""))},{default:a(()=>[r(" Add photo ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k),e(C,{class:"d-flex gap-4"},{default:a(()=>[e(f,{onClick:E},{default:a(()=>[r(" Submit ")]),_:1}),e(f,{color:"secondary",variant:"tonal",to:{name:"items"}},{default:a(()=>[r(" Cancel ")]),_:1})]),_:1})]),_:1})]))}};export{me as default};
