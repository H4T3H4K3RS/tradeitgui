import{k as p,bI as B,aY as E,o as c,c as g,p as e,w as a,B as r,y as $,q as t,bb as D,a_ as y,ba as h,b6 as F,b7 as i,F as L,a as N,C as f,b2 as R,j,bd as q,b as A}from"./index.cd0f8983.js";import{u as P}from"./validators.118248dd.js";import{c as x,V as W,a as H,b as _}from"./VTabs.52be9fce.js";import{V as k}from"./VDivider.fa881b3f.js";import{V as J}from"./VForm.f8ceaffc.js";import{c as C}from"./VTextField.defe1801.js";import{V as I}from"./VSelect.861a0cd0.js";import{V as O}from"./VTextarea.2b6a236d.js";import"./index.affa8c13.js";import"./VList.750eb541.js";import"./VMenu.9cb27b8f.js";import"./VCheckboxBtn.6809607a.js";import"./VChip.07547d4e.js";const ne={__name:"[id]",setup(Y){const w=j(),V=q(),d=p("base-info"),b=B(),n=p({enabled:!1,type:"success",message:"Hello!"}),o=p({name:"",description:"",state:"draft",category:"clothes",user:1,photos:["https://thumbs.dreamstime.com/b/grayscale-random-squares-checkered-pattern-mosaic-abstract-geometric-design-element-cubic-cubism-illustration-214781178.jpg"]});E(()=>{n.value={enabled:!0,message:"Loading item \u{1F9E0}",type:"warning"},b.fetchItem({id:V.params.id}).then(u=>{o.value=u.data,n.value={enabled:!0,message:"Item loaded \u{1F389}",type:"success"}}).catch(u=>{n.value={enabled:!0,message:`Error loading item: ${JSON.stringify(response.data)} \u{1F389}`,type:"success"},console.log(u)})});const S=[{name:"Clothes",value:"clothes"},{name:"Accessory",value:"accessory"}],U=[{name:"Exchnaged",value:"exchanged"},{name:"Exposed",value:"exposed"},{name:"Draft",value:"draft"}],T=async()=>{n.value={enabled:!0,message:"Saving item \u{1F9E0}",type:"warning"},b.putItem({id:V.params.id,...o.value}).then(u=>{console.log(u),n.value={enabled:!0,message:"Item saved \u{1F389}",type:"success"},setTimeout(()=>{w.push({name:"items"})},1e3)}).catch(u=>{n.value={enabled:!0,message:`Error occured: ${u}`,type:"error"},console.log(u)})};return(u,l)=>(c(),g("div",null,[e(D,{modelValue:t(n).enabled,"onUpdate:modelValue":l[0]||(l[0]=s=>t(n).enabled=s),location:"top end",variant:"flat",color:t(n).type},{default:a(()=>[r($(t(n).message),1)]),_:1},8,["modelValue","color"]),e(W,{modelValue:t(d),"onUpdate:modelValue":l[1]||(l[1]=s=>y(d)?d.value=s:null)},{default:a(()=>[e(x,{value:"base-info"},{default:a(()=>[r(" Base Info ")]),_:1}),e(x,{value:"photos"},{default:a(()=>[r(" Photos ")]),_:1})]),_:1},8,["modelValue"]),e(k),e(R,{flat:""},{default:a(()=>[e(h,null,{default:a(()=>[e(H,{modelValue:t(d),"onUpdate:modelValue":l[7]||(l[7]=s=>y(d)?d.value=s:null)},{default:a(()=>[e(_,{value:"base-info"},{default:a(()=>[e(J,{class:"mt-2"},{default:a(()=>[e(F,null,{default:a(()=>[e(i,{md:"6",cols:"12"},{default:a(()=>[e(C,{modelValue:t(o).name,"onUpdate:modelValue":l[2]||(l[2]=s=>t(o).name=s),label:"Name"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(I,{modelValue:t(o).category,"onUpdate:modelValue":l[3]||(l[3]=s=>t(o).category=s),items:S,"item-value":"value","item-title":"name",label:"Category"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(I,{modelValue:t(o).state,"onUpdate:modelValue":l[4]||(l[4]=s=>t(o).state=s),items:U,"item-value":"value","item-title":"name",label:"State"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(O,{modelValue:t(o).description,"onUpdate:modelValue":l[5]||(l[5]=s=>t(o).description=s),label:"Description",rows:"3","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{value:"photos"},{default:a(()=>[(c(!0),g(L,null,N(t(o).photos,(s,m)=>(c(),A(i,{key:m,md:"6",cols:"12"},{default:a(()=>[e(C,{modelValue:t(o).photos[m],"onUpdate:modelValue":v=>t(o).photos[m]=v,label:`Photo ${m+1}`,type:"text","append-inner-icon":"tabler-trash",rules:[t(P)],"onClick:appendInner":v=>t(o).photos.splice(m,1)},null,8,["modelValue","onUpdate:modelValue","label","rules","onClick:appendInner"])]),_:2},1024))),128)),e(f,{class:"justify-end",variant:"outlined","prepend-icon":"tabler-plus",onClick:l[6]||(l[6]=s=>t(o).photos.push(""))},{default:a(()=>[r(" Add photo ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k),e(h,{class:"d-flex gap-4"},{default:a(()=>[e(f,{onClick:T},{default:a(()=>[r(" Submit ")]),_:1}),e(f,{color:"secondary",variant:"tonal",to:{name:"items"}},{default:a(()=>[r(" Cancel ")]),_:1})]),_:1})]),_:1})]))}};export{ne as default};
