import{k as p,aY as N,o as b,b as T,w as s,p as t,b2 as z,b3 as q,b4 as A,B as g,c as D,F as M,a as G,ba as $,q as n,m as l,C as k,z as X,y as f,b6 as ae,b7 as S,aa as se,I as me,J as H,ae as we,a_ as B,bb as Be,G as $e,s as ue,a2 as Ue,a3 as Te,bs as Ce}from"./index.cd0f8983.js";import{_ as K,V as de}from"./DialogCloseBtn.90fc18fe.js";import{V as j}from"./VSelect.861a0cd0.js";import{V as Z}from"./VDialog.3cd49a1e.js";import{V as le}from"./VTable.a1fd0acf.js";import{V as Oe}from"./VChip.07547d4e.js";import{c as ce}from"./VTextField.defe1801.js";import{V as De}from"./VDivider.fa881b3f.js";import{V as Re}from"./VPagination.0a29c8b7.js";import"./VCheckboxBtn.6809607a.js";import"./VList.750eb541.js";import"./index.affa8c13.js";import"./VMenu.9cb27b8f.js";const Ee=l("p",null," Setup CEX parameters ",-1),Fe={class:"d-flex justify-center flex-wrap"},je={__name:"MerchantSettingsDialog",props:{isDialogVisible:{type:Boolean,required:!0},merchantSettings:{type:Object,required:!0},merchantSettingsSelection:{type:Object,required:!0}},emits:["update:merchantSettingsSelection","update:isDialogVisible"],setup(h,{emit:v}){const o=h,c=p({});N(()=>{c.value=JSON.parse(JSON.stringify(o.merchantSettingsSelection))});const V=()=>{v("update:merchantSettingsSelection",JSON.parse(JSON.stringify(c.value)))},_=()=>{c.value=JSON.parse(JSON.stringify(o.merchantSettingsSelection))},x=m=>{v("update:isDialogVisible",m)};return(m,d)=>{const y=K;return b(),T(Z,{width:m.$vuetify.display.smAndDown?"auto":560,"model-value":o.isDialogVisible,"onUpdate:modelValue":x},{default:s(()=>[t(y,{onClick:d[0]||(d[0]=u=>x(!1))}),t(z,{class:"py-8"},{default:s(()=>[t(q,{class:"text-center"},{default:s(()=>[t(A,{class:"text-h5 mb-5"},{default:s(()=>[g(" Merchant Settings ")]),_:1}),Ee]),_:1}),(b(!0),D(M,null,G(o.merchantSettings,u=>(b(),T($,{key:u.name,class:"d-flex align-center flex-wrap flex-sm-nowrap px-15"},{default:s(()=>[t(j,{label:u.name,items:u.selection,"item-title":"text","item-value":"value",density:"compact",class:"me-3",modelValue:n(c)[u.name],"onUpdate:modelValue":U=>n(c)[u.name]=U,multiple:""},null,8,["label","items","modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),t($,{class:"px-15"},{default:s(()=>[l("div",Fe,[t(k,{color:"error",variant:"tonal",class:"mt-3","append-icon":"tabler-x",onClick:d[1]||(d[1]=u=>{_(),x(!1)})},{default:s(()=>[g(" Cancel ")]),_:1}),t(X),t(k,{color:"success",variant:"tonal",class:"mt-3","append-icon":"tabler-checks",onClick:d[2]||(d[2]=u=>{V(),x(!1)})},{default:s(()=>[g(" Done ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},Ne=l("p",null," Setup settings of the selected glass ",-1),Me={class:"d-flex justify-center flex-wrap"},pe={__name:"GlassSettingsDialog",props:{type:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},glassSettings:{type:Object,required:!0},glassSettingsSelection:{type:Object,required:!0}},emits:["update:glassSettingsSelection","update:isDialogVisible"],setup(h,{emit:v}){const o=h,c=p({});N(()=>{c.value=JSON.parse(JSON.stringify(o.glassSettingsSelection))});const V=()=>{v("update:glassSettingsSelection",JSON.parse(JSON.stringify(c.value)))},_=()=>{c.value=JSON.parse(JSON.stringify(o.glassSettingsSelection))},x=m=>{v("update:isDialogVisible",m)};return(m,d)=>{const y=K;return b(),T(Z,{width:m.$vuetify.display.smAndDown?"auto":560,"model-value":o.isDialogVisible,"onUpdate:modelValue":x,"overlay-color":"black","overlay-opacity":"1"},{default:s(()=>[t(y,{onClick:d[0]||(d[0]=u=>x(!1))}),t(z,{class:"py-8"},{default:s(()=>[t(q,{class:"text-center"},{default:s(()=>[t(A,{class:"text-h5 mb-5"},{default:s(()=>[g(f(o.type)+" Glass Settings ",1)]),_:1}),Ne]),_:1}),t(ae,null,{default:s(()=>[t(S,{cols:"12",md:"6"},{default:s(()=>[t(A,{class:"d-flex align-center flex-wrap flex-sm-nowrap mb-2"},{default:s(()=>[g(" Taker ")]),_:1}),(b(!0),D(M,null,G(o.glassSettings,u=>(b(),T($,{key:u.name,class:"d-flex align-center flex-wrap flex-sm-nowrap"},{default:s(()=>[t(j,{label:u.name,items:u.selection,"item-title":"name","item-value":"name",density:"compact",class:"me-3",modelValue:n(c)[u.name].taker,"onUpdate:modelValue":U=>n(c)[u.name].taker=U,multiple:""},null,8,["label","items","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1}),t(S,{cols:"12",md:"6"},{default:s(()=>[t(A,{class:"d-flex align-center flex-wrap flex-sm-nowrap mb-2"},{default:s(()=>[g(" Maker ")]),_:1}),(b(!0),D(M,null,G(o.glassSettings,u=>(b(),T($,{key:u.name,class:"d-flex align-center flex-wrap flex-sm-nowrap"},{default:s(()=>[t(j,{label:u.name,items:u.selection,"item-title":"name","item-value":"name",density:"compact",class:"me-3",modelValue:n(c)[u.name].maker,"onUpdate:modelValue":U=>n(c)[u.name].maker=U,multiple:""},null,8,["label","items","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1}),t($,{class:"px-15"},{default:s(()=>[l("div",Me,[t(k,{color:"error",variant:"tonal",class:"mt-3","append-icon":"tabler-x",onClick:d[1]||(d[1]=u=>{_(),x(!1)})},{default:s(()=>[g(" Cancel ")]),_:1}),t(X),t(k,{color:"success",variant:"tonal",class:"mt-3","append-icon":"tabler-checks",onClick:d[2]||(d[2]=u=>{V(),x(!1)})},{default:s(()=>[g(" Done ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},Pe={class:"text-h6"},Ae=l("thead",null,[l("tr",{class:""},[l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041A\u0443\u0440\u0441 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u0430\u0440\u0430 ")])],-1),Ie={style:{height:"3.5rem"}},Je=["innerHTML"],He={class:"text-medium-emphasis"},Ge={class:"d-flex justify-center flex-wrap"},ze={__name:"SpotDialog",props:{isDialogVisible:{type:Boolean,required:!0},data:{type:Object,required:!0}},emits:["update:isDialogVisible"],setup(h,{emit:v}){const o=h,c=m=>{v("update:isDialogVisible",m)},V=m=>{let d=m<0?"-":"",y=Math.abs(parseInt(m)),u=(Math.abs(m)%1).toFixed(2).slice(2);return`<span><span>${d}${y}</span>.${u}</span>`},_=se(()=>o.data.spotOption.exchangeRate>1?o.data.spotOption.exchangeRate:1/o.data.spotOption.exchangeRate),x=se(()=>o.data.spotOption.exchangeRate>1?`${o.data.crypto1} / ${o.data.crypto2}`:`${o.data.crypto2} / ${o.data.crypto1}`);return(m,d)=>{const y=K;return b(),T(Z,{width:m.$vuetify.display.smAndDown?"auto":560,"model-value":o.isDialogVisible,"onUpdate:modelValue":c,"overlay-color":"black","overlay-opacity":"1"},{default:s(()=>[t(y,{onClick:d[0]||(d[0]=u=>c(!1))}),t(z,{class:"py-8"},{default:s(()=>[t(q,{class:"text-center"},{default:s(()=>[t(A,{class:"text-h6 mb-5"},{default:s(()=>[g(f(o.data.spotOption.spotExchange)+" \u0421\u043F\u043E\u0442 ",1)]),_:1})]),_:1}),t($,{class:"text-center"},{default:s(()=>[g(" \u041F\u0443\u0442\u044C: "),l("span",Pe,f(o.data.crypto1!==o.data.crypto2?`${o.data.crypto1} -> `+(o.data.spotOption.proxyToken!=="-"?`${o.data.spotOption.proxyToken} -> `:"")+`${o.data.crypto2}`:`${o.data.crypto1}`),1)]),_:1}),t($,null,{default:s(()=>[t(le,{class:"text-no-wrap"},{default:s(()=>[Ae,l("tbody",null,[l("tr",Ie,[l("td",{class:"text-medium-emphasis",innerHTML:V(n(_))},null,8,Je),l("td",He,f(n(x)),1)])])]),_:1})]),_:1}),t($,{class:"px-15"},{default:s(()=>[l("div",Ge,[t(X),t(k,{color:"primary",variant:"tonal",class:"mt-3","append-icon":"tabler-check",onClick:d[1]||(d[1]=u=>c(!1))},{default:s(()=>[g(" \u041E\u043A ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},qe=l("thead",null,[l("tr",{class:""},[l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u0426\u0435\u043D\u0430 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041E\u0431\u044A\u0451\u043C "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u043B\u0430\u0442\u0451\u0436\u043D\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430 ")])],-1),Le=["innerHTML"],Ye=["innerHTML"],Qe={class:"text-medium-emphasis"},We={class:"d-flex justify-center flex-wrap"},Xe={__name:"ExchangeDialog",props:{isDialogVisible:{type:Boolean,required:!0},data:{type:Object,required:!0},type:{type:String,required:!0}},emits:["update:isDialogVisible"],setup(h,{emit:v}){const o=h,c=p([]),V=p({}),_=m=>{v("update:isDialogVisible",m)},x=m=>{let d=m<0?"-":"",y=Math.abs(parseInt(m)),u=(Math.abs(m)%1).toFixed(2).slice(2);return`<span><span>${d}${y}</span>.${u}</span>`};return N(()=>{V.value=o.data[o.type]}),N(()=>{console.log(c.value),c.value=[];for(let[m,d]of Object.entries(V.value))c.value.push({amount:m,price:d.price,paymentSystem:d.paymentSystems[0],user:d.advertiserName,currency:d.fiatCurrency})}),(m,d)=>{const y=K;return b(),T(Z,{width:m.$vuetify.display.smAndDown?"auto":560,"model-value":o.isDialogVisible,"onUpdate:modelValue":_,"overlay-color":"black","overlay-opacity":"1"},{default:s(()=>[t(y,{onClick:d[0]||(d[0]=u=>_(!1))}),t(z,{class:"py-8"},{default:s(()=>[t(q,{class:"text-center"},{default:s(()=>[t(A,{class:"text-h6 mb-5"},{default:s(()=>[o.type!=="sellOrders"?(b(),D(M,{key:0},[g(" \u041F\u043E\u043A\u0443\u043F\u043A\u0430: "+f(o.data.exchangeFrom)+" "+f(o.data.crypto1)+" ("+f(o.data.buyType[0].toUpperCase())+") ",1)],64)):(b(),D(M,{key:1},[g(" \u041F\u0440\u043E\u0434\u0430\u0436\u0430: "+f(o.data.exchangeTo)+" "+f(o.data.crypto2)+" ("+f(o.data.sellType[0].toUpperCase())+") ",1)],64))]),_:1})]),_:1}),t($,null,{default:s(()=>[t(le,{class:"text-no-wrap"},{default:s(()=>[qe,l("tbody",null,[(b(!0),D(M,null,G(n(c),u=>(b(),D("tr",{key:u.user,style:{height:"3.5rem"}},[l("td",{class:"text-medium-emphasis",innerHTML:x(u.price)+` ${u.currency}`},null,8,Le),l("td",{class:"text-medium-emphasis",innerHTML:x(u.amount)+` ${u.currency}`},null,8,Ye),l("td",Qe,f(u.paymentSystem),1)]))),128))])]),_:1})]),_:1}),t($,{class:"px-15"},{default:s(()=>[l("div",We,[t(X),t(k,{color:"primary",variant:"tonal",class:"mt-3","append-icon":"tabler-check",onClick:d[1]||(d[1]=u=>_(!1))},{default:s(()=>[g(" \u041E\u043A ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},Ke=me({id:"BaseStore",actions:{fetchFiats(h){return H.get("/base/fiat/",{params:h})}}}),Ze=me({id:"BotStore",actions:{async fetchSettings(h){return{data:(await H.get("/bot/settings/main/obtain/",{params:h})).data[0]}},saveSettings(h){return H.patch(`/bot/settings/main/${h.id}/`,h)},fetchArbs(h){return H.get("/bot/arbs/",{params:h})},fetchHelpful(h){return H.get("/bot/helpful/",{params:h})}}});const et={class:"w-100"},tt={class:"w-100"},at={class:"w-100"},st={class:"w-100"},lt={class:"w-100"},nt={class:"w-100"},ot={class:"w-100"},it={class:"w-100"},rt={class:"w-100"},ut={class:"w-100"},dt={class:"w-100"},ct={class:"w-100"},pt=l("thead",null,[l("tr",{class:""},[l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u0421\u043F\u0440\u0435\u0434 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u0440\u043E\u0444\u0438\u0442 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u0443\u0442\u044C "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u0417\u0430\u043A\u0443\u043F "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u0435\u0440\u0435\u0432\u043E\u0434 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u0421\u043F\u043E\u0442 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u0435\u0440\u0435\u0432\u043E\u0434 "),l("th",{scope:"col",class:"font-weight-semibold text-h6"}," \u041F\u0440\u043E\u0434\u0430\u0436\u0430 ")])],-1),mt=["innerHTML"],ft=["innerHTML"],gt={class:"text-medium-emphasis"},vt={class:"text-medium-emphasis"},yt={class:"text-medium-emphasis"},ht={class:"text-medium-emphasis"},xt={class:"text-medium-emphasis"},bt={class:"text-medium-emphasis"},St={colspan:"8",class:"text-center text-body-1 justify-center align-center"},kt=l("td",{colspan:"8",class:"text-center text-body-1 justify-center align-center"},null,-1),_t={class:"text-sm text-disabled"},Nt={__name:"index",setup(h){const v=p(!1),o=p(""),c=p("error"),V=p(!1),_=p(!1),x=p(!1);p(!1);const m=p(!1),d=p(!1),y=Ze(),u=Ke(),U=p(10),C=p(1),I=p(1),J=p(0),ne=p([]),fe=p([{name:"\u0412\u0441\u0435",value:!1},{name:"\u041E\u0442\u043E\u0431\u0440\u0430\u043D\u043D\u044B\u0435",value:!0}]),R=p([]),ee=p([]),ge=p([{name:"x1",value:1},{name:"x2",value:2},{name:"x3",value:3},{name:"x4",value:4},{name:"x5",value:5}]);p(1e5);const i=p({fiat:null,isPro:!1,spotEnabled:!1,spreadType:!1,filterEnabled:!1,paymentSystems:[],splitDepth:1,minimalSpread:0,amount:0,merchant:{},exchangesSell:{USDT:{taker:[],maker:[]},BTC:{taker:[],maker:[]},ETH:{taker:[],maker:[]},BUSD:{taker:[],maker:[]},BNB:{taker:[],maker:[]}},exchangesBuy:{USDT:{taker:[],maker:[]},BTC:{taker:[],maker:[]},ETH:{taker:[],maker:[]},BUSD:{taker:[],maker:[]},BNB:{taker:[],maker:[]}}}),te=p(JSON.parse(JSON.stringify(i.value))),P=p([]),O=p([]),L=p({exchangeFrom:"Garantex",exchangeTo:"Huobi",buyType:"taker",sellType:"maker",advertiserBuy:"-",advertiserSell:"FREERUSSIA",profit:17.01513610604161,spread:.00017015136106041608,fiat:"RUB",networkToSpot:"internal",spotOption:{spotExchange:"-",ccy:"-",proxyToken:{},exchangeRate:1},spotExchange:"-",networkFromSpot:"TRC20",buyOrders:{"99999.99999999994":{fiatCurrency:"RUB",price:72.37,minBoundary:0,maxBoundary:986959.09,paymentSystems:["Other","Sberbank","Tinkoff","SBP","ADV","Payeer","QIWI","Rosbank","Alfabank","Gazprombank","VTB","Otkritie","AkBarsBank","UralSibBank","SovcomBank","Cash","Raiffaizen","Yandex Money","UniCredit","Russian Standart","RosselhozBank","PochtaBank"],advertiserName:"-",side:"BUY",exchange:"Garantex",isTrusted:!0}},sellOrders:{"1378.0244576481957":{fiatCurrency:"RUB",price:72.58,minBoundary:1e4,maxBoundary:156385,paymentSystems:["Sberbank","Other","Other"],advertiserName:"FREERUSSIA",side:"BUY",exchange:"Huobi",isTrusted:!0}},crypto1:"USDT",crypto2:"USDT",paymentSystems:["Sberbank","SBP","Tinkoff","ADV","QIWI","Alfabank","Payeer","Raiffaizen","Rosbank"]}),Y=p("buyOrders"),Q=p({exchangeFrom:"Garantex",exchangeTo:"Huobi",buyType:"taker",sellType:"maker",advertiserBuy:"-",advertiserSell:"FREERUSSIA",profit:17.01513610604161,spread:.00017015136106041608,fiat:"RUB",networkToSpot:"internal",spotOption:{spotExchange:"-",ccy:"-",proxyToken:{},exchangeRate:1},spotExchange:"-",networkFromSpot:"TRC20",buyOrders:{"99999.99999999994":{fiatCurrency:"RUB",price:72.37,minBoundary:0,maxBoundary:986959.09,paymentSystems:["Other","Sberbank","Tinkoff","SBP","ADV","Payeer","QIWI","Rosbank","Alfabank","Gazprombank","VTB","Otkritie","AkBarsBank","UralSibBank","SovcomBank","Cash","Raiffaizen","Yandex Money","UniCredit","Russian Standart","RosselhozBank","PochtaBank"],advertiserName:"-",side:"BUY",exchange:"Garantex",isTrusted:!0}},sellOrders:{"1378.0244576481957":{fiatCurrency:"RUB",price:72.58,minBoundary:1e4,maxBoundary:156385,paymentSystems:["Sberbank","Other","Other"],advertiserName:"FREERUSSIA",side:"BUY",exchange:"Huobi",isTrusted:!0}},crypto1:"USDT",crypto2:"USDT",paymentSystems:["Sberbank","SBP","Tinkoff","ADV","QIWI","Alfabank","Payeer","Raiffaizen","Rosbank"]}),ve=p("\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435...");y.fetchSettings({}).then(r=>{i.value=r.data,te.value=JSON.parse(JSON.stringify(i.value))}).catch(r=>{v.value=!0,o.value="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0432\u0430\u0448\u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0431\u043E\u0442\u0430!",c.value="error",console.log(r)}),u.fetchFiats({}).then(r=>{ne.value=r.data}).catch(r=>{v.value=!0,o.value="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0438\u0430\u0442\u043D\u044B\u0435 \u0432\u0430\u043B\u044E\u0442\u044B!",c.value="error",console.log(r)}),we(()=>i.value.fiat,(r,a)=>{console.log("Fetching settings..."),y.fetchSettings({fiat:r}).then(e=>{i.value=e.data,te.value=JSON.parse(JSON.stringify(i.value))}).catch(e=>{v.value=!0,o.value="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0432\u0430\u0448\u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0431\u043E\u0442\u0430!",c.value="error",console.log(e)}),console.log("Fetching systems..."),a!==null&&(i.value.paymentSystems=[]),y.fetchHelpful({type:"systems",fiat:r}).then(e=>{var w;ee.value=[],(w=e.data.data)==null||w.forEach(F=>ee.value.push({name:F}))}).catch(e=>{console.log(e)}),console.log("Fetching merchants..."),a!==null&&(i.value.merchant={}),y.fetchHelpful({type:"merchant",fiat:r}).then(e=>{var w,F;P.value=[],(w=e.data.data)==null||w.forEach(E=>P.value.push({name:E,selection:[{text:"Buy",value:"buy"},{text:"Sell",value:"sell"}]})),a!==null&&(console.log(i.value.merchant),(F=P.value)==null||F.forEach(E=>i.value.merchant[E.name]=i.value.merchant[E.name]===void 0?[]:i.value.merchant[E.name]))}).catch(e=>{console.log(e)}),a!==null&&(i.value.exchangesBuy={},i.value.exchangesSell={}),console.log("Fetching exchanges..."),y.fetchHelpful({type:"exchanges",fiat:r}).then(e=>{var w,F,E;O.value=[],(F=Object.entries((w=e.data)==null?void 0:w.data))==null||F.forEach(W=>{const[ke,_e]=W;let re=[];_e.forEach(Ve=>re.push({name:Ve})),O.value.push({name:ke,selection:re})}),a!==null&&((E=O.value)==null||E.forEach(W=>{i.value.exchangesSell[W.name]={taker:[],maker:[]},i.value.exchangesBuy[W.name]={taker:[],maker:[]}}))}).catch(e=>{})}),N(()=>{i.value.fiat!==null&&(console.log("Fetching arbs..."),y.fetchArbs({fiat:i.value.fiat,page:C.value}).then(r=>{R.value=r.data.results,J.value=r.data.count,I.value=parseInt(J.value/U.value)+1,console.log(r.data)}).catch(r=>{console.log(typeof i.value.fiat),v.value=!0,o.value="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u043D\u044B\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438!",c.value="error",console.log(r)}))}),N(()=>{console.log(R.value),console.log(i.value)});const ye=se(()=>{const r=R.value.length?(C.value-1)*U.value+1:0,a=R.value.length+(C.value-1)*U.value;return`Showing ${r} to ${a} of ${J.value} entries`}),he=async()=>{console.log("Fetching arbs..."),R.value=[],y.fetchArbs({fiat:i.value.fiat,page:C.value}).then(r=>{console.log(r.data),R.value=r.data.results,J.value=r.data.count,I.value=parseInt(J.value/U.value)+1,console.log(r.data),v.value=!0,o.value="\u0410\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u043D\u044B\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B!",c.value="success"}).catch(r=>{v.value=!0,o.value="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436\u043D\u044B\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438!",c.value="error",console.log(r)})},xe=async()=>{y.saveSettings(i.value).then(r=>{v.value=!0,o.value=r.status>250?`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F: ${r.data}`:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B!",c.value=r.status>250?"error":"success"}).catch(r=>{console.log(r),v.value=!0,o.value=`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F: ${r}`,c.value="error"})},be=async()=>{i.value=JSON.parse(JSON.stringify(te.value)),v.value=!0,o.value="\u0412\u0441\u0435 \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u0431\u0440\u043E\u0448\u0435\u043D\u044B!",c.value="success"},oe=r=>{let a=r<0?"-":"+",e=Math.abs(parseInt(r)),w=(Math.abs(r)%1).toFixed(2).slice(2);return`<span class="text-${a==="-"?"error":"success"}"><span class="text-h6 text-${a==="-"?"error":"success"}">${a}${e}</span>.${w}</span>`},Se=async r=>{m.value=!0,L.value=r},ie=async(r,a="buyOrders")=>{d.value=!0,Q.value=r,Y.value=a};return N(()=>{C.value>I.value&&(C.value=I.value)}),(r,a)=>(b(),T(S,{cols:"12"},{default:s(()=>[t(Be,{modelValue:n(v),"onUpdate:modelValue":a[0]||(a[0]=e=>B(v)?v.value=e:null),location:"top end",variant:"flat",color:n(c)},{default:s(()=>[g(f(n(o)),1)]),_:1},8,["modelValue","color"]),t(z,null,{default:s(()=>[t(q,{class:"project-header d-flex flex-wrap justify-space-between py-4 gap-4"},{default:s(()=>[t($,{class:"text-h4 px-10 font-weight-bold"},{default:s(()=>[g(" \u0411\u043E\u0442 ")]),_:1}),t(ae,{class:"mt-1 justify-center"},{default:s(()=>[t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"4",md:"2"},{default:s(()=>[l("div",et,[t(j,{modelValue:n(i).fiat,"onUpdate:modelValue":a[1]||(a[1]=e=>n(i).fiat=e),variant:"outlined",label:"Fiat",items:n(ne),"item-title":"symbol","item-value":"id"},{selection:s(({item:e})=>[t(Oe,null,{default:s(()=>[t($e,{start:"",image:e.raw.avatar},null,8,["image"]),l("span",null,f(e.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"4",md:"2"},{default:s(()=>[l("div",tt,[t(ce,{modelValue:n(i).minimalSpread,"onUpdate:modelValue":a[2]||(a[2]=e=>n(i).minimalSpread=e),label:"Min. Spread",placeholder:"0.5",type:"number","append-inner-icon":"tabler-percentage"},null,8,["modelValue"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"4",md:"2"},{default:s(()=>[l("div",at,[t(j,{modelValue:n(i).spreadType,"onUpdate:modelValue":a[3]||(a[3]=e=>n(i).spreadType=e),variant:"outlined",items:n(fe),label:"SpreadType","item-title":"name","item-value":"value"},null,8,["modelValue","items"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"4",md:"2"},{default:s(()=>[l("div",st,[t(j,{modelValue:n(i).splitDepth,"onUpdate:modelValue":a[4]||(a[4]=e=>n(i).splitDepth=e),variant:"outlined",items:n(ge),label:"Split Depth","item-title":"name","item-value":"value"},null,8,["modelValue","items"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"6",md:"4"},{default:s(()=>[l("div",lt,[t(j,{modelValue:n(i).paymentSystems,"onUpdate:modelValue":a[5]||(a[5]=e=>n(i).paymentSystems=e),variant:"outlined",items:n(ee),label:"Payment Systems","item-title":"name","item-value":"name",multiple:""},null,8,["modelValue","items"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"5",lg:"2"},{default:s(()=>[l("div",nt,[t(ce,{modelValue:n(i).amount,"onUpdate:modelValue":a[6]||(a[6]=e=>n(i).amount=e),label:"Volume",placeholder:"100000",type:"number","append-inner-icon":"tabler-currency-rubel"},null,8,["modelValue"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"5",md:"4",lg:"2"},{default:s(()=>[l("div",ot,[t(k,{onClick:a[7]||(a[7]=e=>V.value=!0),textContent:"Merchant Settings",color:"secondary",variant:"outlined"})])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"5",md:"4",lg:"2"},{default:s(()=>[l("div",it,[t(k,{onClick:a[8]||(a[8]=e=>x.value=!0),textContent:"Red Glass Settings",color:"secondary",variant:"outlined"})])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"5",md:"4",lg:"3"},{default:s(()=>[l("div",rt,[t(k,{class:"w-100",onClick:a[9]||(a[9]=e=>_.value=!0),textContent:"Green Glass Settings",color:"secondary",variant:"outlined"})])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"3",lg:"1"},{default:s(()=>[l("div",null,[t(de,{modelValue:n(i).spotEnabled,"onUpdate:modelValue":a[10]||(a[10]=e=>n(i).spotEnabled=e),inset:"",color:"error"},{label:s(()=>[l("span",{class:ue(n(i).spotEnabled?"text-error font-weight-bold":"text-secondary")},"Spot",2)]),_:1},8,["modelValue"])])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"4",lg:"2"},{default:s(()=>[l("div",null,[t(de,{modelValue:n(i).filterEnabled,"onUpdate:modelValue":a[11]||(a[11]=e=>n(i).filterEnabled=e),inset:"",color:"success"},{label:s(()=>[l("span",{class:ue(n(i).filterEnabled?"text-success font-weight-bold":"text-secondary")}," Clear Orders",2)]),_:1},8,["modelValue"])])]),_:1})]),_:1}),t(ae,{class:"justify-end"},{default:s(()=>[t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"2",md:"2",lg:"2"},{default:s(()=>[l("div",ut,[t(k,{onClick:be,color:"error",variant:"outlined","prepend-icon":"tabler-refresh"},{default:s(()=>[g(" Reset ")]),_:1})])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"5",md:"4",lg:"2"},{default:s(()=>[l("div",dt,[t(k,{onClick:xe,color:"success",variant:"outlined","prepend-icon":"tabler-device-floppy"},{default:s(()=>[g(" Save Settings ")]),_:1})])]),_:1}),t(S,{class:"d-flex justify-center text-center",cols:"12",sm:"5",md:"4",lg:"3"},{default:s(()=>[l("div",ct,[t(k,{class:"w-100",onClick:he,color:"primary",variant:"outlined","append-icon":"tabler-search"},{default:s(()=>[g(" Find Spread ")]),_:1})])]),_:1})]),_:1})]),_:1}),t(De),t(le,{class:"text-no-wrap"},{default:s(()=>[pt,l("tbody",null,[(b(!0),D(M,null,G(n(R),e=>(b(),D("tr",{key:e.id,style:{height:"3.5rem"}},[l("td",{class:"text-medium-emphasis",innerHTML:oe(e.spread*100)+"%"},null,8,mt),l("td",{class:"text-medium-emphasis",innerHTML:oe(e.profit)+` ${e.fiat}`},null,8,ft),l("td",gt,f(e.fiat)+" -> "+f(e.crypto1!==e.crypto2?`${e.crypto1} -> `+(e.spotOption.proxyToken!=="-"?`${e.spotOption.proxyToken} -> `:"")+`${e.crypto2}`:`${e.crypto1}`)+" -> "+f(e.fiat),1),l("td",vt,[t(k,{rounded:"",size:"small",class:"cursor-pointer",color:"primary",variant:"tonal",onClick:w=>ie(e,"buyOrders")},{default:s(()=>[g(f(e.exchangeFrom)+" "+f(e.crypto1)+" ("+f(e.buyType[0])+") ",1)]),_:2},1032,["onClick"])]),l("td",yt,f(e.networkToSpot.toUpperCase()),1),l("td",ht,[e.spotOption.spotExchange!=="-"?(b(),T(k,{key:0,rounded:"",size:"small",class:"cursor-pointer",color:"primary",variant:"tonal",onClick:w=>Se(e)},{default:s(()=>[g(f(e.spotOption.spotExchange)+" "+f(e.crypto2),1)]),_:2},1032,["onClick"])):(b(),T(k,{key:1,rounded:"",size:"small",color:"error",variant:"tonal",disabled:""},{default:s(()=>[g(" No Spot ")]),_:1}))]),l("td",xt,f(e.networkFromSpot.toUpperCase()),1),l("td",bt,[t(k,{rounded:"",size:"small",class:"cursor-pointer",color:"primary",variant:"tonal",onClick:w=>ie(e,"sellOrders")},{default:s(()=>[g(f(e.exchangeTo)+" "+f(e.crypto2)+" ("+f(e.sellType[0])+") ",1)]),_:2},1032,["onClick"])])]))),128))]),Ue(l("tfoot",null,[l("tr",null,[l("td",St,[g(f(n(ve))+" ",1),t(Ce,{width:3,color:"primary",indeterminate:""})]),kt])],512),[[Te,!n(R).length]])]),_:1}),t($,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3"},{default:s(()=>[l("span",_t,f(n(ye)),1),t(Re,{modelValue:n(C),"onUpdate:modelValue":a[12]||(a[12]=e=>B(C)?C.value=e:null),size:"small","total-visible":4,length:n(I)},null,8,["modelValue","length"])]),_:1})]),_:1}),t(je,{"is-dialog-visible":n(V),"onUpdate:is-dialog-visible":a[13]||(a[13]=e=>B(V)?V.value=e:null),"merchant-settings":n(P),"onUpdate:merchant-settings":a[14]||(a[14]=e=>B(P)?P.value=e:null),"merchant-settings-selection":n(i).merchant,"onUpdate:merchant-settings-selection":a[15]||(a[15]=e=>n(i).merchant=e),"onUpdate:merchantSettingsSelection":a[16]||(a[16]=e=>n(i).merchant=e)},null,8,["is-dialog-visible","merchant-settings","merchant-settings-selection"]),t(pe,{type:"Green","is-dialog-visible":n(_),"onUpdate:is-dialog-visible":a[17]||(a[17]=e=>B(_)?_.value=e:null),"glass-settings":n(O),"onUpdate:glass-settings":a[18]||(a[18]=e=>B(O)?O.value=e:null),"glass-settings-selection":n(i).exchangesBuy,"onUpdate:glass-settings-selection":a[19]||(a[19]=e=>n(i).exchangesBuy=e),"onUpdate:glassSettingsSelection":a[20]||(a[20]=e=>n(i).exchangesBuy=e)},null,8,["is-dialog-visible","glass-settings","glass-settings-selection"]),t(pe,{type:"Red","is-dialog-visible":n(x),"onUpdate:is-dialog-visible":a[21]||(a[21]=e=>B(x)?x.value=e:null),"glass-settings":n(O),"onUpdate:glass-settings":a[22]||(a[22]=e=>B(O)?O.value=e:null),"glass-settings-selection":n(i).exchangesSell,"onUpdate:glass-settings-selection":a[23]||(a[23]=e=>n(i).exchangesSell=e),"onUpdate:glassSettingsSelection":a[24]||(a[24]=e=>n(i).exchangesSell=e)},null,8,["is-dialog-visible","glass-settings","glass-settings-selection"]),t(ze,{"is-dialog-visible":n(m),"onUpdate:is-dialog-visible":a[25]||(a[25]=e=>B(m)?m.value=e:null),data:n(L),"onUpdate:data":a[26]||(a[26]=e=>B(L)?L.value=e:null)},null,8,["is-dialog-visible","data"]),t(Xe,{"is-dialog-visible":n(d),"onUpdate:is-dialog-visible":a[27]||(a[27]=e=>B(d)?d.value=e:null),type:n(Y),"onUpdate:type":a[28]||(a[28]=e=>B(Y)?Y.value=e:null),data:n(Q),"onUpdate:data":a[29]||(a[29]=e=>B(Q)?Q.value=e:null)},null,8,["is-dialog-visible","type","data"])]),_:1}))}};export{Nt as default};
