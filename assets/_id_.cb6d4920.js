import{k as i,aW as w,o as p,c as x,p as a,w as t,q as u,b as g,b5 as k,b0 as I,bJ as S,b2 as B,aT as A,F as E,a as F,b4 as N,bG as U,b8 as $,a8 as j,B as c,y as h,aY as q,b9 as D,s as L,ba as _,m as T,C as b,j as M,bm as z}from"./index.06ce4c3e.js";const G={__name:"PhotoList",props:{photos:{type:Array,required:!0}},setup(y){const m=y,v=i(0);return w(()=>{v.value=m.photos[0]}),(f,l)=>(p(),x("div",null,[a(N,null,{default:t(()=>[u(v)?(p(),g(k,{key:0,cols:"12"},{default:t(()=>[a(I,null,{default:t(()=>[a(S,{src:u(v),height:"200px"},null,8,["src"]),a(B)]),_:1})]),_:1})):A("",!0),(p(!0),x(E,null,F(y.photos,(o,s)=>(p(),g(k,{key:s,cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[a(I,{onClick:d=>v.value=m.photos[s]},{default:t(()=>[a(S,{src:o,height:"100px"},null,8,["src"]),a(B)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]))}},J={class:"text-h6"},Y={__name:"[id]",setup(y){M();const m=z();i("base-info");const v=U(),f=$(),l=i(!1),o=i(""),s=i("error"),d=i([]),n=i({name:"",description:"",state:"draft",category:"clothes",user:null,photos:[]}),R=()=>{f.postItem({item:n.value.id}).then(e=>{d.value.push(e.data),l.value=!0,s.value="success",o.value="\u041F\u0440\u0435\u0434\u043C\u0435\u0442 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 \u0441\u043F\u0438\u0441\u043E\u043A \u0436\u0435\u043B\u0430\u043D\u0438\u0439 \u{1F389}"}).catch(e=>{l.value=!0,s.value="error",o.value=e,console.log(e)})},W=()=>{f.deleteItem({id:V.value.id}).then(e=>{d.value=d.value.filter(r=>r.id!==V.value.id),l.value=!0,s.value="warning",o.value="\u041F\u0440\u0435\u0434\u043C\u0435\u0442 \u0443\u0434\u0430\u043B\u0451\u043D \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430 \u0436\u0435\u043B\u0430\u043D\u0438\u0439 \u{1F389}"}).catch(e=>{l.value=!0,s.value="error",o.value=e,console.log(e)})};w(()=>{f.fetchItems({}).then(e=>{d.value=e.data,console.log(d.value)}).catch(e=>{l.value=!0,s.value="error",o.value=e,console.log(e)})}),w(()=>{!m.params.id||(l.value=!0,s.value="warning",o.value="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430",v.fetchItem({id:m.params.id}).then(e=>{n.value=e.data,l.value=!0,s.value="success",o.value="\u041F\u0440\u0435\u0434\u043C\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D \u{1F389}"}).catch(e=>{l.value=!0,s.value="error",o.value=e,console.log(e)}))});const V=j(()=>{let e=d.value.find(r=>r.item===n.value.id);return console.log(e),e});return(e,r)=>(p(),x("div",null,[a(D,{modelValue:u(l),"onUpdate:modelValue":r[0]||(r[0]=C=>q(l)?l.value=C:null),location:"top end",variant:"flat",color:u(s)},{default:t(()=>[c(h(u(o)),1)]),_:1},8,["modelValue","color"]),a(I,null,{default:t(()=>[a(N,{"no-gutters":""},{default:t(()=>[a(k,{cols:"12",sm:"8",lg:"8",class:L(e.$vuetify.display.smAndUp?"border-e":"border-b")},{default:t(()=>[a(_,{class:"pe-2"},{default:t(()=>[T("span",J,[c(h(u(n).name)+" ",1),a(b,{class:"float-end","append-icon":"tabler-pencil"},{default:t(()=>[c(" Message ")]),_:1})]),T("span",null,[u(V)?(p(),g(b,{key:1,color:"error",class:"float-end me-3","append-icon":"tabler-x",onClick:W},{default:t(()=>[c(" Delete from wishlist ")]),_:1})):(p(),g(b,{key:0,color:"success",class:"float-end me-3","append-icon":"tabler-plus",onClick:R},{default:t(()=>[c(" Add to wishlist ")]),_:1}))])]),_:1}),a(_,null,{default:t(()=>[c(h(u(n).description),1)]),_:1}),a(_,null,{default:t(()=>[c(" Category: "),a(b,{variant:"tonal",to:{name:"index"}},{default:t(()=>[c(h(u(n).category),1)]),_:1})]),_:1})]),_:1},8,["class"]),a(k,{cols:"12",sm:"4"},{default:t(()=>[a(_,{class:"justify-center align-center text-center h-100"},{default:t(()=>[a(G,{photos:u(n).photos,"onUpdate:photos":r[1]||(r[1]=C=>u(n).photos=C)},null,8,["photos"])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{Y as default};
