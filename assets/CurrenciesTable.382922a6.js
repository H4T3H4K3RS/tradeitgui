import{I as D,J as z,k as c,aY as j,aa as q,o as x,b as I,w as l,p as s,b2 as N,b3 as Y,b6 as A,b7 as B,m as e,B as o,q as n,a_ as L,G as C,y as i,ba as T,c as $,F as G,a as H,bE as J,H as P,a2 as M,bs as K,a3 as O}from"./index.cd0f8983.js";import{a as Q}from"./formatters.04cd2ee9.js";import{d as U}from"./VTextField.defe1801.js";import{V as E}from"./VSelect.861a0cd0.js";import{V as h}from"./VChip.07547d4e.js";import{V as W}from"./VDivider.fa881b3f.js";import{V as X}from"./VTable.a1fd0acf.js";import{V as Z}from"./VPagination.0a29c8b7.js";const ee=D("CurrenciesStore",{actions:{fetchFiat(m){return z.get("/p2p/fiat",{params:m})},fetchCrypto(m){return z.get("/p2p/crypto",{params:m})},fetchRates(m){return z.get("/p2p/rates",{params:m})}}});const te={style:{width:"200px"}},ae={style:{width:"200px"}},se=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"font-weight-semibold"}," \u041C\u0435\u0442\u043E\u0434 "),e("th",{scope:"col",class:"font-weight-semibold"}," \u041B\u0438\u043A\u0432\u0438\u0434\u043D\u043E\u0441\u0442\u044C \u0437\u0430 24 \u0447\u0430\u0441\u0430 "),e("th",{scope:"col",class:"font-weight-semibold"}," BUY "),e("th",{scope:"col",class:"font-weight-semibold"}," SELL "),e("th",{scope:"col",class:"font-weight-semibold"},[o(" % \u0441\u043F\u0440\u0435\u0434 "),e("br"),o(" \u0442\u0435\u0439\u043A\u0435\u0440 - \u0442\u0435\u0439\u043A\u0435\u0440 ")]),e("th",{scope:"col",class:"font-weight-semibold"},[o(" % \u0441\u043F\u0440\u0435\u0434 "),e("br"),o(" \u0442\u0435\u0439\u043A\u0435\u0440 - \u043C\u0435\u0439\u043A\u0435\u0440 ")]),e("th",{scope:"col",class:"font-weight-semibold"},[o(" % \u0441\u043F\u0440\u0435\u0434 "),e("br"),o(" \u043C\u0435\u0439\u043A\u0435\u0440 - \u043C\u0435\u0439\u043A\u0435\u0440 ")]),e("th",{scope:"col",class:"font-weight-semibold"},[o(" % \u0441\u043F\u0440\u0435\u0434 "),e("br"),o(" \u043C\u0435\u0439\u043A\u0435\u0440 - \u0442\u0435\u0439\u043A\u0435\u0440 ")])])],-1),le={class:"d-flex align-center gap-3"},oe={key:1,class:"font-weight-semibold"},ie={class:"text-base text-medium-emphasis font-weight-semibold"},ce={class:"text-medium-emphasis"},ne={class:"text-medium-emphasis"},re={class:"text-medium-emphasis"},ue={class:"text-medium-emphasis"},de={class:"text-medium-emphasis"},me={class:"text-medium-emphasis"},pe={class:"text-medium-emphasis"},he={colspan:"8",class:"text-center text-body-1 justify-center align-center"},fe={class:"text-sm text-disabled"},Ce={__name:"CurrenciesTable",props:{cex:{type:null,required:!0}},setup(m){const f=m,F=a=>a&&a[0].toUpperCase()+a.slice(1)||"",k=ee(),v=c(10),r=c(1),b=c(1),S=c(0),_=c(null),g=c(null);c(1.01);let y=c([]),V=c([]),p=c([]);const w=c("\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435...");k.fetchFiat({cex:f.cex,perPage:v.value,currentPage:r.value}).then(a=>{y.value=a.data.data,y.value.length>0&&(_.value=y.value[0].id)}).catch(a=>{w.value="\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0444\u0438\u0430\u0442\u043D\u044B\u0445 \u0432\u0430\u043B\u044E\u0442",console.log(a)}),k.fetchCrypto({cex:f.cex,perPage:v.value,currentPage:r.value}).then(a=>{V.value=a.data.data,V.value.length>0&&(g.value=V.value[0].id)}).catch(a=>{w.value="\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043A\u0440\u0438\u043F\u0442\u043E\u0432\u0430\u043B\u044E\u0442",console.log(a)}),j(()=>{p.value=[],k.fetchRates({cex:f.cex,fiat:_.value,crypto:g.value,page:r.value}).then(a=>{p.value=a.data.results,S.value=a.data.count,b.value=parseInt(S.value/v.value)+1}).catch(a=>{w.value="\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0441\u043F\u0440\u0435\u0434\u044B...",console.log(a)})}),j(()=>{r.value>b.value&&(r.value=b.value)});const R=q(()=>{const a=p.value.length?(r.value-1)*v.value+1:0,d=p.value.length+(r.value-1)*v.value;return`Showing ${a} to ${d} of ${S.value} entries`}),u=a=>a>0?{status:`${a}`,chip:{color:"success"}}:a<0?{status:`${a}`,chip:{color:"error"}}:{status:`${a}`,chip:{color:"primary"}};return(a,d)=>(x(),I(B,{cols:"12"},{default:l(()=>[s(N,null,{default:l(()=>[s(Y,{class:"project-header d-flex flex-wrap justify-space-between py-4 gap-4"},{append:l(()=>[s(A,null,{default:l(()=>[s(B,{class:"d-flex justify-center text-center",cols:"12",sm:"6",md:"4"},{default:l(()=>[e("div",te,[s(U,null,{default:l(()=>[o("Fiat:")]),_:1}),s(E,{modelValue:n(_),"onUpdate:modelValue":d[0]||(d[0]=t=>L(_)?_.value=t:null),variant:"outlined",items:n(y),"item-title":"symbol","item-value":"id"},{selection:l(({item:t})=>[s(h,null,{default:l(()=>[s(C,{start:"",image:t.raw.avatar},null,8,["image"]),e("span",null,i(t.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])])]),_:1}),s(B,{class:"d-flex justify-center text-center",cols:"12",sm:"6",md:"4"},{default:l(()=>[e("div",ae,[s(U,null,{default:l(()=>[o("Crypto:")]),_:1}),s(E,{modelValue:n(g),"onUpdate:modelValue":d[1]||(d[1]=t=>L(g)?g.value=t:null),variant:"outlined",items:n(V),"item-title":"ticker","item-value":"id"},{selection:l(({item:t})=>[s(h,null,{default:l(()=>[s(C,{start:"",image:t.raw.avatar},null,8,["image"]),e("span",null,i(t.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])])]),_:1})]),_:1})]),default:l(()=>[s(T,{class:"text-h4 px-10 font-weight-bold"},{default:l(()=>[s(C,{size:"50",variant:"text",color:"primary",image:`/src/assets/images/misc/cex/${f.cex}.png`},null,8,["image"]),o(" \u0421\u043F\u0440\u0435\u0434\u044B "+i(F(f.cex)),1)]),_:1})]),_:1}),s(W),s(X,{class:"text-no-wrap"},{default:l(()=>[se,e("tbody",null,[(x(!0),$(G,null,H(n(p),t=>(x(),$("tr",{key:t.id,style:{height:"3.5rem"}},[e("td",null,[e("div",le,[s(C,{variant:"tonal",color:"primary",size:"38"},{default:l(()=>[t.avatar.length?(x(),I(J,{key:0,src:t.avatar},null,8,["src"])):(x(),$("span",oe,i(n(Q)(t.name)),1))]),_:2},1024),e("div",null,[e("h6",ie,i(t.name),1)])])]),e("td",ce,i(t["24hLiq"]),1),e("td",ne,i(t.BUY.maker),1),e("td",re,i(t.SELL.maker),1),e("td",ue,[s(h,P({label:""},u(t["t-t"]).chip,{size:"small"}),{default:l(()=>[o(i(u(t["t-t"]).status),1)]),_:2},1040)]),e("td",de,[s(h,P({label:""},u(t["t-m"]).chip,{size:"small"}),{default:l(()=>[o(i(u(t["t-m"]).status),1)]),_:2},1040)]),e("td",me,[s(h,P({label:""},u(t["m-t"]).chip,{size:"small"}),{default:l(()=>[o(i(u(t["m-t"]).status),1)]),_:2},1040)]),e("td",pe,[s(h,P({label:""},u(t["m-m"]).chip,{size:"small"}),{default:l(()=>[o(i(u(t["m-m"]).status),1)]),_:2},1040)])]))),128))]),M(e("tfoot",null,[e("tr",null,[e("td",he,[o(i(n(w))+" ",1),s(K,{width:3,color:"primary",indeterminate:""})])])],512),[[O,!n(p).length]])]),_:1}),s(T,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3"},{default:l(()=>[e("span",fe,i(n(R)),1),s(Z,{modelValue:n(r),"onUpdate:modelValue":d[2]||(d[2]=t=>L(r)?r.value=t:null),size:"small","total-visible":2,length:n(b)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};export{Ce as _};
