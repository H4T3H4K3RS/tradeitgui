import{I as D,J as q,k as r,aY as m,aa as C,o as i,c as f,p as n,w as g,ba as w,G as V,B as y,q as a,a_ as P,m as e,F as N,a as T,a2 as z,a3 as E,y as d,b as v,bs as F,E as k,b2 as $}from"./index.cd0f8983.js";import{b as I}from"./route-block.023af118.js";import{c as j}from"./VTextField.defe1801.js";import{V as U}from"./VTable.a1fd0acf.js";import{V as A}from"./VPagination.0a29c8b7.js";import"./index.affa8c13.js";const G=D({id:"ProductsStore",actions:{fetchProducts(x){return q.get("/products",{params:x})}}}),J=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"text-subtitle-2 text-wrap"}," ID "),e("th",{scope:"col",class:"text-subtitle-2 text-wrap"}," Name "),e("th",{scope:"col",class:"text-subtitle-2 text-wrap"}," Image "),e("th",{scope:"col",class:"text-subtitle-2 text-wrap"}," Description ")])],-1),L={class:"text-high-emphasis text-h6 font-weight-bold"},M={class:"text-high-emphasis font-weight-bold"},R={class:"text-high-emphasis font-weight-bold"},Y={class:"text-high-emphasis font-weight-bold"},H={colspan:"8",class:"text-center text-body-1 justify-center align-center"},K={class:"text-sm text-disabled"},O={__name:"products",setup(x){const c=r({message:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435...",status:0}),S=G(),t=r(null),b=r(10),l=r(1),h=r(1),_=r(0),p=r("");m(()=>{t.value===null?c.value={message:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0434\u0430\u043D\u043D\u044B\u0435...",status:0}:t.value?t.value.length===0&&(c.value={message:"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445",status:2}):c.value={message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F",status:2}}),m(()=>{S.fetchProducts({q:p.value,perPage:10,currentPage:l.value}).then(o=>{t.value=o.data.data,t.value&&(_.value=o.data.totalItems,h.value=o.data.totalPage),console.log(t.value)}).catch(o=>{c.value={message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445!",status:2},console.log(o)})}),m(()=>{l.value>h.value&&(l.value=h.value)});const B=C(()=>{const o=t.value&&t.value.length?(l.value-1)*b.value+1:0,u=t.value?t.value.length+(l.value-1)*b.value:0;return`Showing ${o} to ${u} of ${_.value} entries`});return(o,u)=>(i(),f("div",null,[n($,{class:"mb-6"},{default:g(()=>[n(w,{class:"text-h4 px-10 font-weight-bold"},{default:g(()=>[n(V,{size:"50",icon:"tabler-database"}),y(" Products ")]),_:1}),n(j,{modelValue:a(p),"onUpdate:modelValue":u[0]||(u[0]=s=>P(p)?p.value=s:null),class:"text-no-wrap pb-10 px-10",placeholder:"Search query"},null,8,["modelValue"]),n(U,{class:"text-no-wrap pb-10 px-10"},{default:g(()=>[J,e("tbody",null,[(i(!0),f(N,null,T(a(t),s=>(i(),f("tr",{key:s.id,style:{height:"3.5rem"}},[e("td",L,d(s.id),1),e("td",M,d(s.name),1),e("td",R,[n(V,{image:s.image,size:"50"},null,8,["image"])]),e("td",Y,d(s.description),1)]))),128))]),z(e("tfoot",null,[e("tr",null,[e("td",H,[y(d(a(c).message)+" ",1),a(c).status===0?(i(),v(F,{key:0,width:3,color:"primary",indeterminate:""})):a(c).status===1?(i(),v(k,{key:1,color:"success",icon:"tabler-tick"})):(i(),v(k,{key:2,color:"error",icon:"tabler-x"}))])])],512),[[E,!a(t)||!a(t).length]])]),_:1}),n(w,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3"},{default:g(()=>[e("span",K,d(a(B)),1),n(A,{modelValue:a(l),"onUpdate:modelValue":u[1]||(u[1]=s=>P(l)?l.value=s:null),size:"small","total-visible":4,length:a(h)},null,8,["modelValue","length"])]),_:1})]),_:1})]))}};typeof I=="function"&&I(O);export{O as default};
