import{_ as C}from"./DialogCloseBtn.915e8852.js";import{k as m,bN as k,w,o as c,c as f,p as t,x as s,bd as D,q as a,C as n,z as p,b4 as B,b5 as N,b6 as T,F as $,H as h,aY as V,be as g,m as S,b as U}from"./index.94444e5e.js";import{V as q}from"./VTextarea.a908e39c.js";import{V as R}from"./VBtn.ef78a3ba.js";import{V as j}from"./VDialog.b48f8ae5.js";const E={class:"d-flex justify-center flex-wrap"},I={__name:"CreateReportDialog",props:{isDialogVisible:{type:Boolean,required:!0},item:{type:Object,default:()=>{},required:!1},report:{type:Object,default:()=>{},required:!1}},emits:["update:isDialogVisible"],setup(b,{emit:v}){const o=b,i=m({enabled:!1,type:"success",message:"Hello!"}),x=k(),e=m({message:""}),_=()=>{x.postItem({...e.value}).then(l=>{if(l.status>250)throw`Failed to send report! Response: ${JSON.stringify(l.data)}`;i.value={enabled:!0,message:"\u0416\u0430\u043B\u043E\u0431\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430",type:"success"},setTimeout(()=>{u(!1)},1e3)}).catch(l=>{i.value={enabled:!0,message:`Error occured: ${l}`,type:"error"}})};w(()=>{e.value.message=o.item&&o.item.id?`\u0416\u0430\u043B\u043E\u0431\u0430 \u043D\u0430 \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0435 #${o.item.id}

>`:"",e.value=o.report?o.report:e.value,console.log(e.value)});const u=l=>{v("update:isDialogVisible",l)};return(l,d)=>{const y=C;return c(),f("div",null,[t(j,{width:l.$vuetify.display.lgAndUp?"40%":560,"model-value":o.isDialogVisible,"onUpdate:modelValue":u},{default:s(()=>[t(D,{modelValue:a(i).enabled,"onUpdate:modelValue":d[0]||(d[0]=r=>a(i).enabled=r),location:"top end",variant:"flat",color:a(i).type},{default:s(()=>[n(p(a(i).message),1)]),_:1},8,["modelValue","color"]),t(y,{onClick:d[1]||(d[1]=r=>u(!1))}),t(B,{class:"py-8"},{default:s(()=>[t(N,{class:"text-center"},{default:s(()=>[t(T,{class:"text-h5 mb-5"},{default:s(()=>[n(" \u0416\u0430\u043B\u043E\u0431\u0430 "),a(e).id?(c(),f($,{key:0},[n(" #"+p(a(e).id)+" ",1),t(h,{size:"large",variant:"tonal",color:a(e).state==="Accepted"?"success":a(e).state==="Pending"?"warning":"error"},{default:s(()=>[n(p(a(e).state),1)]),_:1},8,["color"])],64)):V("",!0)]),_:1})]),_:1}),t(g,{class:"d-flex align-center flex-wrap flex-sm-nowrap px-15"},{default:s(()=>[t(q,{modelValue:a(e).message,"onUpdate:modelValue":d[2]||(d[2]=r=>a(e).message=r),counter:"",label:"Text"},null,8,["modelValue"])]),_:1}),t(g,{class:"px-15"},{default:s(()=>{var r;return[S("div",E,[(r=o.report)!=null&&r.state?V("",!0):(c(),U(R,{key:0,color:"success",variant:"tonal",class:"mt-3","append-icon":"tabler-send",onClick:_},{default:s(()=>[n(" \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C ")]),_:1}))])]}),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}};export{I as _};
