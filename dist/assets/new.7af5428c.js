import{k as p,bK as F,v as N,o as V,c as v,p as e,x as a,C as u,z as f,q as t,bd as j,b0 as g,be as y,b8 as A,b9 as m,H as D,G as L,F as R,a as q,b4 as H,j as W,b as z}from"./index.5d03b33d.js";import{u as E}from"./validators.118248dd.js";import{b as _,V as G,a as J,c as k}from"./VTabs.5c661eb8.js";import{V as x}from"./VDivider.43b40dba.js";import{V as K}from"./VForm.e51e4d4b.js";import{V as C}from"./VTextField.e2b7e577.js";import{V as w,a as O}from"./VCombobox.b2397d84.js";import{V as M}from"./VTextarea.aeb75615.js";import{V as c}from"./VBtn.f21c9e2a.js";import"./VCounter.7f2ecdd9.js";import"./VList.8aac8b0e.js";import"./dialog-transition.10f6bff7.js";import"./VMenu.4b05b6e3.js";import"./VCheckboxBtn.65e93cb5.js";const me={__name:"new",setup(P){const n=p({enabled:!1,type:"success",message:"Hello!"}),U=W(),S=F(),h=N(),d=p("base-info"),T=["New"],s=p({name:"",description:"",state:"draft",category:"clothes",tags:[],photos:["https://thumbs.dreamstime.com/b/grayscale-random-squares-checkered-pattern-mosaic-abstract-geometric-design-element-cubic-cubism-illustration-214781178.jpg"]}),I=[{name:"\u041E\u0434\u0435\u0436\u0434\u0430",value:"clothes"},{name:"\u0410\u043A\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044B",value:"accessory"}],$=[{name:"\u0412\u044B\u0441\u0442\u0430\u0432\u0438\u0442\u044C",value:"exposed"},{name:"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A",value:"draft"}],B=async()=>{n.value={enabled:!0,message:"Saving item \u{1F9E0}",type:"warning"},S.postItem({user:h.$state.userData.id,...s.value}).then(r=>{if(console.log(r.data),r.status>250)throw`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F! \u041E\u0442\u0432\u0435\u0442: ${JSON.stringify(r.data)}`;n.value={enabled:!0,message:"\u041F\u0440\u0435\u0434\u043C\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D \u{1F389}",type:"success"},setTimeout(()=>{U.push({name:"items"})},1e3)}).catch(r=>{n.value={enabled:!0,message:r,type:"error"},console.log(r)})};return(r,o)=>(V(),v("div",null,[e(j,{modelValue:t(n).enabled,"onUpdate:modelValue":o[0]||(o[0]=l=>t(n).enabled=l),location:"top end",variant:"flat",color:t(n).type},{default:a(()=>[u(f(t(n).message),1)]),_:1},8,["modelValue","color"]),e(G,{modelValue:t(d),"onUpdate:modelValue":o[1]||(o[1]=l=>g(d)?d.value=l:null)},{default:a(()=>[e(_,{value:"base-info"},{default:a(()=>[u(" \u041E\u0441\u043D\u043E\u0432\u043D\u0430\u044F \u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F ")]),_:1}),e(_,{value:"photos"},{default:a(()=>[u(" \u0424\u043E\u0442\u043E ")]),_:1})]),_:1},8,["modelValue"]),e(x),e(H,{flat:""},{default:a(()=>[e(y,null,{default:a(()=>[e(J,{modelValue:t(d),"onUpdate:modelValue":o[8]||(o[8]=l=>g(d)?d.value=l:null)},{default:a(()=>[e(k,{value:"base-info"},{default:a(()=>[e(K,{class:"mt-2"},{default:a(()=>[e(A,null,{default:a(()=>[e(m,{md:"6",cols:"12"},{default:a(()=>[e(C,{modelValue:t(s).name,"onUpdate:modelValue":o[2]||(o[2]=l=>t(s).name=l),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(w,{modelValue:t(s).category,"onUpdate:modelValue":o[3]||(o[3]=l=>t(s).category=l),items:I,"item-value":"value","item-title":"name",label:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(w,{modelValue:t(s).state,"onUpdate:modelValue":o[4]||(o[4]=l=>t(s).state=l),items:$,"item-value":"value","item-title":"name",label:"\u0421\u0442\u0430\u0442\u0443\u0441"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(O,{modelValue:t(s).tags,"onUpdate:modelValue":o[5]||(o[5]=l=>t(s).tags=l),items:T,label:"\u0422\u0435\u0433\u0438",multiple:""},{selection:a(({item:l})=>[e(D,{class:"mt-1"},{default:a(()=>[e(L,{start:"",color:"primary"},{default:a(()=>[u(f(String(l.title).charAt(0).toUpperCase()),1)]),_:2},1024),u(" "+f(l.title),1)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(M,{modelValue:t(s).description,"onUpdate:modelValue":o[6]||(o[6]=l=>t(s).description=l),label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",rows:"3","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{value:"photos"},{default:a(()=>[(V(!0),v(R,null,q(t(s).photos,(l,i)=>(V(),z(m,{key:i,md:"6",cols:"12"},{default:a(()=>[e(C,{modelValue:t(s).photos[i],"onUpdate:modelValue":b=>t(s).photos[i]=b,label:`\u0424\u043E\u0442\u043E ${i+1}`,type:"text","append-inner-icon":"tabler-trash",rules:[t(E)],"onClick:appendInner":b=>t(s).photos.splice(i,1)},null,8,["modelValue","onUpdate:modelValue","label","rules","onClick:appendInner"])]),_:2},1024))),128)),e(c,{class:"justify-end",variant:"outlined","prepend-icon":"tabler-plus",onClick:o[7]||(o[7]=l=>t(s).photos.push(""))},{default:a(()=>[u(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0444\u043E\u0442\u043E ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(x),e(y,{class:"d-flex gap-4"},{default:a(()=>[e(c,{onClick:B},{default:a(()=>[u(" \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C ")]),_:1}),e(c,{color:"secondary",variant:"tonal",to:{name:"items"}},{default:a(()=>[u(" \u041E\u0442\u043C\u0435\u043D\u0430 ")]),_:1})]),_:1})]),_:1})]))}};export{me as default};
