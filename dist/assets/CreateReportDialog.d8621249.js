import{o as c,b as x,x as s,p as t,E as w,k as V,bm as D,w as B,c as g,bd as h,q as a,C as d,z as f,b4 as S,b5 as T,b6 as $,F as q,H as N,aY as b,be as _,m as U}from"./index.d764a294.js";import{V as v}from"./VBtn.5fef2a98.js";import{V as E}from"./VTextarea.52b58c04.js";import{V as R}from"./VDialog.221ead8f.js";const j={__name:"DialogCloseBtn",props:{icon:{type:String,required:!1,default:"tabler-x"}},setup(u){const p=u;return(l,r)=>(c(),x(v,{icon:"",class:"v-dialog-close-btn"},{default:s(()=>[t(w,{icon:p.icon},null,8,["icon"])]),_:1}))}},F={class:"d-flex justify-center flex-wrap"},H={__name:"CreateReportDialog",props:{isDialogVisible:{type:Boolean,required:!0},item:{type:Object,default:()=>{},required:!1},report:{type:Object,default:()=>{},required:!1}},emits:["update:isDialogVisible"],setup(u,{emit:p}){const l=u,r=V({enabled:!1,type:"success",message:"Hello!"}),y=D(),e=V({message:""}),C=()=>{y.postItem({...e.value}).then(o=>{if(o.status>250)throw`Failed to send report! Response: ${JSON.stringify(o.data)}`;r.value={enabled:!0,message:"\u0416\u0430\u043B\u043E\u0431\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430",type:"success"},setTimeout(()=>{m(!1)},1e3)}).catch(o=>{r.value={enabled:!0,message:`Error occured: ${o}`,type:"error"}})};B(()=>{e.value.message=l.item&&l.item.id?`\u0416\u0430\u043B\u043E\u0431\u0430 \u043D\u0430 \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0435 #${l.item.id}

>`:"",e.value=l.report?l.report:e.value,console.log(e.value)});const m=o=>{p("update:isDialogVisible",o)};return(o,i)=>{const k=j;return c(),g("div",null,[t(R,{width:o.$vuetify.display.lgAndUp?"40%":560,"model-value":l.isDialogVisible,"onUpdate:modelValue":m},{default:s(()=>[t(h,{modelValue:a(r).enabled,"onUpdate:modelValue":i[0]||(i[0]=n=>a(r).enabled=n),location:"top end",variant:"flat",color:a(r).type},{default:s(()=>[d(f(a(r).message),1)]),_:1},8,["modelValue","color"]),t(k,{onClick:i[1]||(i[1]=n=>m(!1))}),t(S,{class:"py-8"},{default:s(()=>[t(T,{class:"text-center"},{default:s(()=>[t($,{class:"text-h5 mb-5"},{default:s(()=>[d(" \u0416\u0430\u043B\u043E\u0431\u0430 "),a(e).id?(c(),g(q,{key:0},[d(" #"+f(a(e).id)+" ",1),t(N,{size:"large",variant:"tonal",color:a(e).state==="Accepted"?"success":a(e).state==="Pending"?"warning":"error"},{default:s(()=>[d(f(a(e).state),1)]),_:1},8,["color"])],64)):b("",!0)]),_:1})]),_:1}),t(_,{class:"d-flex align-center flex-wrap flex-sm-nowrap px-15"},{default:s(()=>[t(E,{modelValue:a(e).message,"onUpdate:modelValue":i[2]||(i[2]=n=>a(e).message=n),counter:"",label:"Text"},null,8,["modelValue"])]),_:1}),t(_,{class:"px-15"},{default:s(()=>{var n;return[U("div",F,[(n=l.report)!=null&&n.state?b("",!0):(c(),x(v,{key:0,color:"success",variant:"tonal",class:"mt-3","append-icon":"tabler-send",onClick:C},{default:s(()=>[d(" \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C ")]),_:1}))])]}),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}};export{H as _,j as a};
