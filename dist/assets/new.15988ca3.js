import{k as p,bC as D,v as F,o as V,c as g,p as e,x as a,C as u,z as f,q as l,ax as L,af as v,P as y,ay as _,aq as N,ar as r,aU as x,bD as C,bE as $,H as j,L as q,F as A,a as R,D as c,am as E,j as H,b as W}from"./index.2deb187d.js";import{u as z}from"./validators.118248dd.js";import{b as k,V as J,a as O,c as U}from"./VTabs.b1bc86ec.js";import{V as P}from"./VForm.cccf6e81.js";import{V as G}from"./VTextarea.63126951.js";const ee={__name:"new",setup(K){const n=p({enabled:!1,type:"success",message:"Hello!"}),w=H(),h=D();F();const m=p("base-info"),S=["New"],s=p({name:"",description:"",state:"draft",category:"clothes",tags:[],photos:["https://thumbs.dreamstime.com/b/grayscale-random-squares-checkered-pattern-mosaic-abstract-geometric-design-element-cubic-cubism-illustration-214781178.jpg"]}),T=[{name:"\u041E\u0434\u0435\u0436\u0434\u0430",value:"clothes"},{name:"\u0410\u043A\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044B",value:"accessory"}],I=[{name:"\u0412\u044B\u0441\u0442\u0430\u0432\u0438\u0442\u044C",value:"exposed"},{name:"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A",value:"draft"}],B=async()=>{n.value={enabled:!0,message:"Saving item \u{1F9E0}",type:"warning"},h.postItem({...s.value}).then(d=>{if(console.log(d.data),d.status>250)throw`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F! \u041E\u0442\u0432\u0435\u0442: ${JSON.stringify(d.data)}`;n.value={enabled:!0,message:"\u041F\u0440\u0435\u0434\u043C\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D \u{1F389}",type:"success"},setTimeout(()=>{w.push({name:"items"})},1e3)}).catch(d=>{n.value={enabled:!0,message:d,type:"error"},console.log(d)})};return(d,o)=>(V(),g("div",null,[e(L,{modelValue:l(n).enabled,"onUpdate:modelValue":o[0]||(o[0]=t=>l(n).enabled=t),location:"bottom end",variant:"flat",color:l(n).type},{default:a(()=>[u(f(l(n).message),1)]),_:1},8,["modelValue","color"]),e(J,{modelValue:l(m),"onUpdate:modelValue":o[1]||(o[1]=t=>v(m)?m.value=t:null)},{default:a(()=>[e(k,{value:"base-info"},{default:a(()=>[u(" \u041E\u0441\u043D\u043E\u0432\u043D\u0430\u044F \u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F ")]),_:1}),e(k,{value:"photos"},{default:a(()=>[u(" \u0424\u043E\u0442\u043E ")]),_:1})]),_:1},8,["modelValue"]),e(y),e(E,{flat:""},{default:a(()=>[e(_,null,{default:a(()=>[e(O,{modelValue:l(m),"onUpdate:modelValue":o[8]||(o[8]=t=>v(m)?m.value=t:null),touch:{left:null,right:null}},{default:a(()=>[e(U,{value:"base-info"},{default:a(()=>[e(P,{class:"mt-2"},{default:a(()=>[e(N,null,{default:a(()=>[e(r,{md:"6",cols:"12"},{default:a(()=>[e(x,{modelValue:l(s).name,"onUpdate:modelValue":o[2]||(o[2]=t=>l(s).name=t),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:l(s).category,"onUpdate:modelValue":o[3]||(o[3]=t=>l(s).category=t),items:T,"item-value":"value","item-title":"name",label:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:a(()=>[e(C,{modelValue:l(s).state,"onUpdate:modelValue":o[4]||(o[4]=t=>l(s).state=t),items:I,"item-value":"value","item-title":"name",label:"\u0421\u0442\u0430\u0442\u0443\u0441"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:a(()=>[e($,{modelValue:l(s).tags,"onUpdate:modelValue":o[5]||(o[5]=t=>l(s).tags=t),items:S,label:"\u0422\u0435\u0433\u0438",multiple:""},{selection:a(({item:t})=>[e(j,{class:"mt-1"},{default:a(()=>[e(q,{start:"",color:"primary"},{default:a(()=>[u(f(String(t.title).charAt(0).toUpperCase()),1)]),_:2},1024),u(" "+f(t.title),1)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(G,{modelValue:l(s).description,"onUpdate:modelValue":o[6]||(o[6]=t=>l(s).description=t),label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",rows:"3","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{value:"photos"},{default:a(()=>[(V(!0),g(A,null,R(l(s).photos,(t,i)=>(V(),W(r,{key:i,md:"6",cols:"12"},{default:a(()=>[e(x,{modelValue:l(s).photos[i],"onUpdate:modelValue":b=>l(s).photos[i]=b,label:`\u0424\u043E\u0442\u043E ${i+1}`,type:"text","append-inner-icon":"tabler-trash",rules:[l(z)],"onClick:appendInner":b=>l(s).photos.splice(i,1)},null,8,["modelValue","onUpdate:modelValue","label","rules","onClick:appendInner"])]),_:2},1024))),128)),e(c,{class:"justify-end",variant:"outlined","prepend-icon":"tabler-plus",onClick:o[7]||(o[7]=t=>l(s).photos.push(""))},{default:a(()=>[u(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0444\u043E\u0442\u043E ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(y),e(_,{class:"d-flex gap-4"},{default:a(()=>[e(c,{onClick:B},{default:a(()=>[u(" \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C ")]),_:1}),e(c,{color:"secondary",variant:"tonal",to:{name:"items"}},{default:a(()=>[u(" \u041E\u0442\u043C\u0435\u043D\u0430 ")]),_:1})]),_:1})]),_:1})]))}};export{ee as default};
