import{k as u,v as k,o as C,c as R,p as a,x as s,C as m,z as V,q as e,bd as S,m as n,b5 as T,V as U,y as b,b6 as B,be as _,bO as F,b8 as N,b9 as p,b4 as j,j as q,r as I}from"./index.17329d69.js";import{r as c,e as L,p as P}from"./validators.118248dd.js";import{b as y}from"./route-block.023af118.js";import{V as z}from"./VForm.01241e96.js";import{V as f}from"./VTextField.f210f95e.js";import{V as A}from"./VBtn.b08178d6.js";import"./VCounter.9fdac173.js";const D={class:"auth-wrapper d-flex align-center justify-center pa-0 pa-md-4 h-100"},E={class:"position-relative my-sm-16"},M={class:"d-flex"},O=n("h5",{class:"text-h5 font-weight-semibold mb-1"}," \u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C! ",-1),$=n("p",{class:"mb-0"}," \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044C, \u0447\u0442\u043E\u0431\u044B \u043E\u0431\u043C\u0435\u043D\u044F\u0442\u044C \u0441\u0432\u043E\u044E \u043F\u0435\u0440\u0432\u0443\u044E \u0432\u0435\u0449\u044C! ",-1),G=n("span",null,"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B ?",-1),H={__name:"register",setup(J){const r=u({email:"",username:"",password:""}),v=u(),l=u({enabled:!1,type:"error",message:"Permission denied!"}),d=u(!1),g=k(),x=q(),h=async()=>{let i=await g.register(r.value);if(console.log(i.data),!i.data.success){l.value.enabled=!0,l.value.type="warning",l.value.message=i.data;return}l.value.enabled=!0,l.value.type="success",l.value.message="\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C!",setTimeout(()=>{x.push({name:"auth-login"})},1e3)};return(i,t)=>{const w=I("RouterLink");return C(),R("div",D,[a(S,{modelValue:e(l).enabled,"onUpdate:modelValue":t[0]||(t[0]=o=>e(l).enabled=o),location:"top end",variant:"flat",transition:"scroll-y-reverse-transition",color:e(l).type},{default:s(()=>[m(V(e(l).message),1)]),_:1},8,["modelValue","color"]),n("div",E,[a(j,{class:"auth-card pa-4","max-width":"448"},{default:s(()=>[a(T,{class:"justify-center"},{prepend:s(()=>[n("div",M,[a(e(U),{nodes:e(b).app.logo},null,8,["nodes"])])]),default:s(()=>[a(B,{class:"font-weight-bold text-h5 py-1"},{default:s(()=>[m(V(e(b).app.title),1)]),_:1})]),_:1}),a(_,{class:"pt-2"},{default:s(()=>[O,$]),_:1}),a(_,null,{default:s(()=>[a(z,{ref_key:"refForm",ref:v,onSubmit:t[5]||(t[5]=F(()=>{},["prevent"]))},{default:s(()=>[a(N,null,{default:s(()=>[a(p,{cols:"12"},{default:s(()=>[a(f,{modelValue:e(r).username,"onUpdate:modelValue":t[1]||(t[1]=o=>e(r).username=o),label:"Username",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",type:"text",rules:[e(c)]},null,8,["modelValue","rules"])]),_:1}),a(p,{cols:"12"},{default:s(()=>[a(f,{modelValue:e(r).email,"onUpdate:modelValue":t[2]||(t[2]=o=>e(r).email=o),label:"\u041F\u043E\u0447\u0442\u0430",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0447\u0442\u0443",type:"email",rules:[e(c),e(L)]},null,8,["modelValue","rules"])]),_:1}),a(p,{cols:"12"},{default:s(()=>[a(f,{modelValue:e(r).password,"onUpdate:modelValue":t[3]||(t[3]=o=>e(r).password=o),class:"mb-4",label:"\u041F\u0430\u0440\u043E\u043B\u044C",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",type:e(d)?"text":"password","append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye",rules:[e(c),e(P)],"onClick:appendInner":t[4]||(t[4]=o=>d.value=!e(d))},null,8,["modelValue","type","append-inner-icon","rules"]),a(A,{block:"",type:"submit",class:"mt-4",onClick:h},{default:s(()=>[m(" \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F ")]),_:1})]),_:1}),a(p,{cols:"12",class:"text-center text-base"},{default:s(()=>[G,a(w,{class:"text-primary ms-2",to:{name:"auth-login"}},{default:s(()=>[m(" \u0412\u043E\u0439\u0442\u0438 ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])])}}};typeof y=="function"&&y(H);export{H as default};
