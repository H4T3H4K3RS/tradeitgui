import{_ as C}from"./DialogCloseBtn.8698196a.js";import{k as m,bo as k,w,o as c,c as f,p as t,x as s,ax as D,q as a,C as d,z as p,am as B,an as T,ao as $,F as h,H as N,I as V,ay as g,m as S,b as U,D as q}from"./index.209d9e67.js";import{V as R}from"./VTextarea.9a2c85f4.js";import{V as j}from"./VDialog.69e05888.js";const E={class:"d-flex justify-center flex-wrap"},A={__name:"CreateReportDialog",props:{isDialogVisible:{type:Boolean,required:!0},item:{type:Object,default:()=>{},required:!1},report:{type:Object,default:()=>{},required:!1}},emits:["update:isDialogVisible"],setup(b,{emit:x}){const o=b,n=m({enabled:!1,type:"success",message:"Hello!"}),v=k(),e=m({message:""}),y=()=>{v.postItem({...e.value}).then(l=>{if(l.status>250)throw`Failed to send report! Response: ${JSON.stringify(l.data)}`;n.value={enabled:!0,message:"\u0416\u0430\u043B\u043E\u0431\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430",type:"success"},setTimeout(()=>{u(!1)},1e3)}).catch(l=>{n.value={enabled:!0,message:`Error occured: ${l}`,type:"error"}})};w(()=>{e.value.message=o.item&&o.item.id?`\u0416\u0430\u043B\u043E\u0431\u0430 \u043D\u0430 \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D\u0438\u0435 #${o.item.id}

>`:"",e.value=o.report?o.report:e.value,console.log(e.value)});const u=l=>{x("update:isDialogVisible",l)};return(l,i)=>{const _=C;return c(),f("div",null,[t(j,{width:l.$vuetify.display.lgAndUp?"40%":560,"model-value":o.isDialogVisible,"onUpdate:modelValue":u},{default:s(()=>[t(D,{modelValue:a(n).enabled,"onUpdate:modelValue":i[0]||(i[0]=r=>a(n).enabled=r),location:"bottom end",variant:"flat",color:a(n).type},{default:s(()=>[d(p(a(n).message),1)]),_:1},8,["modelValue","color"]),t(_,{onClick:i[1]||(i[1]=r=>u(!1))}),t(B,{class:"py-8"},{default:s(()=>[t(T,{class:"text-center"},{default:s(()=>[t($,{class:"text-h5 mb-5"},{default:s(()=>[d(" \u0416\u0430\u043B\u043E\u0431\u0430 "),a(e).id?(c(),f(h,{key:0},[d(" #"+p(a(e).id)+" ",1),t(N,{size:"large",variant:"tonal",color:a(e).state==="Accepted"?"success":a(e).state==="Pending"?"warning":"error"},{default:s(()=>[d(p(a(e).state),1)]),_:1},8,["color"])],64)):V("",!0)]),_:1})]),_:1}),t(g,{class:"d-flex align-center flex-wrap flex-sm-nowrap px-15"},{default:s(()=>[t(R,{modelValue:a(e).message,"onUpdate:modelValue":i[2]||(i[2]=r=>a(e).message=r),counter:"",label:"Text"},null,8,["modelValue"])]),_:1}),t(g,{class:"px-15"},{default:s(()=>{var r;return[S("div",E,[(r=o.report)!=null&&r.state?V("",!0):(c(),U(q,{key:0,color:"success",variant:"tonal",class:"mt-3","append-icon":"tabler-send",onClick:y},{default:s(()=>[d(" \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C ")]),_:1}))])]}),_:1})]),_:1})]),_:1},8,["width","model-value"])])}}};export{A as _};
